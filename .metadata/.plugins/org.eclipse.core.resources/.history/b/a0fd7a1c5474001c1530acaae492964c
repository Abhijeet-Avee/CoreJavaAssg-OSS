package com.day2.q2;

public class BookStore {
	private Book books[];
	private int counter;
	public BookStore(){
		books= new Book[10];
		counter = 0;
	}
		
	public void sell(String title,int noOfCopies) {
		if(counter>0) {
			for(Book book:books) {
				if(title.equalsIgnoreCase(book.getBookTitle()) && book.getNumOfCopies()>=1) {
					System.out.println("Book sold!! ");
					System.out.println("Title: "+ book.getBookTitle());
					book.setNumOfCopies(book.getNumOfCopies()-1);
				}
				else
					System.out.println("OUT OF STOCK!!");
			}
		}
		else {
			System.out.println("******** Book Sotre Empty ******");
		}
	}
	
	public void addBook(String title, String author, String isbn,int noOfCopies)
	{
		Book newBook = new Book(title,author,isbn,noOfCopies);
		if(counter<10) {
			counter++;
			books[counter] = newBook;
		}
		else
			System.out.println("BookStore Capacity Full, Cannot add more!!");
	}
	
	public void order(String title, String author, String isbn,int noOfCopies) {
		if(counter>0) {
			for(Book book:books) {
				if(isbn.equalsIgnoreCase(book.getIsbn())) {
					book.setNumOfCopies(book.getNumOfCopies()+noOfCopies);
					System.out.println("Stock Updated for book: "+ book.getBookTitle());
					System.out.println("Available Copies: "+ book.getNumOfCopies());
				}
				else {
					addBook(title,author,isbn,noOfCopies);
				}
			}
		}
		else {
			
		}	
	}
	
	public void displayBookStoreContent() {
		System.out.println(">>>>>>Book Store Details<<<<");
		if(counter==0)
			System.out.println("-------EMPTY-------");
		else
			for(Book book: books) {
				System.out.println("BOOK STORE SIZE: "+counter);
				System.out.println("****************");
				book.displayBookDetails();
			}
	}
}
